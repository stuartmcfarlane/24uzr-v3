#!/bin/bash

source lib

echo "Creating mysql installation in Docker mysql database"

createMysqlDockerContainer
waitForMysqlDockerContainer

runSqlAsRoot CREATE DATABASE ${MYSQL_DB_NAME};
runSqlAsRoot CREATE USER \"${MYSQL_USER}\"@\"%\" IDENTIFIED BY \"${MYSQL_PASSWORD}\";
runSqlAsRoot GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, INDEX, DROP, ALTER, CREATE TEMPORARY TABLES, LOCK TABLES \
    ON ${MYSQL_DB_NAME}.* TO ${MYSQL_USER}@\"%\";
